<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
	<meta name="description" content="童话说，一个关于Web前端的原创技术博客，不定期发布Web前端及其相关技术的博文">
	<meta name="keywords" content="tonghuashuo,github,前端,html,html5,css,css3,javascript,js,jquery,安卓,android,java,童话,童话说,华心童">
	<title>UserAgent - Tonghuashuo Lab</title>
	<link rel="stylesheet" type="text/css" href="../../css/lab.css">

</head>
<body>
	<h1>UserAgent</h1>
	<hr/>
	<p>This browser is: <span id="version"></span></p>
	<p>UA: <span id="ua"></span></p>
	<p id="error"></p>
	<hr/>
	<a href="../index.html" class="back">&laquo; Back</a>

	<script>
	window.onload = function() {
		if(navigator.userAgent) {
			var ua = window.navigator.userAgent.toLowerCase();
			document.getElementById("ua").innerHTML = ua;

			var version = document.getElementById("version");
			var ver = "";
			if(ua.indexOf("edge") > 0) {							// Edge 12
				ver = ua.match(/edge\/\d+.+/).toString().substr(5);
				version.innerHTML = "Microsoft Edge " + ver;
			} else if(ua.indexOf("msie") > 0) {						// IE <10
				ver = ua.match(/msie\s\d+/).toString().substr(4);
				version.innerHTML = "IE " + ver;
			} else if (ua.indexOf("trident") > 0){					// IE 11
				version.innerHTML = "IE 11";
			} else if (ua.indexOf("firefox") > 0){					// Firefox
				ver = ua.match(/firefox\/\d+.+/).toString().substr(8);
				version.innerHTML = "Firefox " + ver;
			} else if (ua.indexOf("opera") > 0){					// Opera 9.8-
				ver = ua.match(/opera\/\d+.+/).toString().substr(6);
				if(Number(ver)>=9.8) {								// Opera 10+
					ver = ua.match(/version\/\d+.+/).toString().substr(8);
				}
				version.innerHTML = "Opera " + ver;
			} else if (ua.indexOf("opr") > 0) {						// Opera with webkit/blink
				ver = ua.match(/opr\/\d+.\d+.\d+.\d+/).toString().substr(4);
				if(ua.indexOf("dev") > 0) {							// Opera dev edition
					ver += " (edition developer)";
				} else if(ua.indexOf("beta") > 0) {					// Opera beta edition
					ver += " (edition beta)";
				}
				version.innerHTML = "Opera " + ver;
			} else if (ua.indexOf("chrome") > 0){					// Chrome
				ver = ua.match(/chrome\/\d+.\d+.\d+.\d+/).toString().substr(7);
				version.innerHTML = "Chrome " + ver;
			} else if (ua.indexOf("safari") > 0){					// Safari
				ver = ua.match(/safari\/\d+.+/).toString().substr(7);
				version.innerHTML = "Safari " + ver;
			} else {												// Unknown
				version.innerHTML = "Unknown";
			}
		} else {
			document.getElementById("error").innerHTML = "userAgent not detected.";
		}
	};
	</script>
</body>
</html>